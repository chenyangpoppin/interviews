<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Throttle2 JavaScript Implementation</title>
</head>
<body>
<div>
  <h3>Throttle JavaScript Implementation</h3>
  <button id="btn">Click ME!</button>
</div>
<div style="height:3000px"></div>
<div>Text</div>

<script type="text/javascript">
(function(win, undefined) {

  const doc = win.document;

  const throttle = (fn, threshold = 250) => {
    let last    = 0;
    let timerId = 0;

    return function() {
      const that = this;
      const args = arguments;

      let now    = +new Date();

      if (last && now < last + threshold) {
        clearTimeout(timerId);

        timerId = setTimeout(() => {
          last = now;
          fn.apply(that, args);
        }, threshold);
      } else {
        last = now;
        fn.apply(that, args);
      }
    };
  };

  const onScroll = () => {
    console.log('onscroll triggered');
  }

  win.onscroll = throttle(onScroll, 1000);

  const oBtn = doc.querySelector('#btn');
  oBtn.addEventListener('click', throttle(() => { console.log('You Clicked Me!'); }, 3000), false);
})(window);
</script>
</body>
</html>